<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ²ç¤ºæ¿ - Cute Animal Wallet</title>
    <link rel="stylesheet" href="style.css">
    <script src="script.js"></script>
</head>
<body>
    <header>
        <div class="header-container">
            <div class="app-icon">
                <img src="icon.jpg" alt="Cute Animal Wallet" class="app-logo" />
                <h1 class="app-name">ç­ç­éŠ€è¡Œ</h1>
            </div>
            <div class="header-icons">
                <div class="dropdown">
                    <button class="dropbtn">ã„ã‚ã„ã‚</button>
                    <div class="dropdown-content">
                        <a href="privacy.html">ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ã«ã¤ã„ã¦</a>
                        <a href="terms.html">åˆ©ç”¨è¦ç´„</a>
                    </div>
                </div>
                <a href="top.html" class="nav-link">ãƒã‚¤ãƒšãƒ¼ã‚¸</a>
                <a href="zukan.html" class="nav-link">å›³é‘‘ä¸€è¦§</a>
                <a href="board.html" class="nav-link">æ²ç¤ºæ¿</a>
                <div class="hamburger-icon" onclick="toggleMenu()">&#8801;</div>
                <div class="theme-toggle" id="theme-toggle" onclick="toggleTheme()" title="ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰åˆ‡æ›¿">
                    <span class="moon-icon">ğŸŒ™</span>
                    <div class="toggle-switch"></div>
                    <span class="sun-icon">â˜€</span>
                </div>
            </div>
        </div>
    </header>

    <div class="search-container">
        <input type="text" id="search" placeholder="æ¤œç´¢..." oninput="searchPosts(this.value)">
        <select>
            <option value="all">å…¨ã¦</option>
            <option value="name">æŠ•ç¨¿é †</option>
            <option value="date">æ—¥ä»˜é †</option>
        </select>
    </div>

    <main class="form-container">
        <h2>æ²ç¤ºæ¿</h2>
        <div id="post-list">
            <!-- æŠ•ç¨¿ãƒªã‚¹ãƒˆ -->
        </div>
        <button onclick="openPostForm()">æ–°è¦æŠ•ç¨¿</button>
    </main>

    <footer>
        <p>&copy; 2024 Cute Animal Wallet. All rights reserved.</p>
    </footer>

    <!-- æ–°è¦æŠ•ç¨¿ãƒ•ã‚©ãƒ¼ãƒ ã®ãƒ¢ãƒ¼ãƒ€ãƒ« -->
    <div id="post-form-modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closePostForm()">&times;</span>
            <h2>æ–°è¦æŠ•ç¨¿</h2>
            <form id="post-form">
                <label for="post-title">ã‚¿ã‚¤ãƒˆãƒ«:</label>
                <input type="text" id="post-title" name="post-title" required>
                <label for="post-content">å†…å®¹:</label>
                <textarea id="post-content" name="post-content" required></textarea>
                <button type="submit">æŠ•ç¨¿</button>
            </form>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            loadPosts();
        });

        document.getElementById('post-form').addEventListener('submit', function(event) {
            event.preventDefault();
            savePost();
            closePostForm();
        });

        function openPostForm() {
            document.getElementById('post-form-modal').style.display = 'block';
        }

        function closePostForm() {
            document.getElementById('post-form-modal').style.display = 'none';
        }

        function savePost() {
            const title = document.getElementById('post-title').value;
            const content = document.getElementById('post-content').value;
            const date = new Date().toISOString().split('T')[0];
            const post = { title, content, date };

            let posts = JSON.parse(localStorage.getItem('posts')) || [];
            posts.push(post);
            localStorage.setItem('posts', JSON.stringify(posts));

            loadPosts();
        }

        function loadPosts() {
            const postList = document.getElementById('post-list');
            postList.innerHTML = '';

            let posts = JSON.parse(localStorage.getItem('posts')) || [];
            posts.forEach(post => {
                const postElement = document.createElement('div');
                postElement.className = 'post';
                postElement.innerHTML = `
                    <h3>${post.title}</h3>
                    <p>${post.content}</p>
                    <p class="post-details">æŠ•ç¨¿æ—¥: ${post.date}</p>
                `;
                postList.appendChild(postElement);
            });
        }
    </script>
</body>
</html>